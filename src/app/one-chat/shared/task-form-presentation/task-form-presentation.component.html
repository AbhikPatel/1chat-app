<!-- Task Form wrapper -->
<div class="form-wrapper d-flex flex-column bg-white  position-absolute h-100  end-0 p-2 p-sm-4 overflow-auto">
    <!-- header -->
    <div class="header">
        <div class="d-flex align-items-center justify-content-between">
            <h3 class="text-uppercase">Task Submission Form</h3>
        </div>
        <span class="fs-8"> Enter task details and relevant information using this form to create </span>
    </div>
    <!-- form start -->
    <form class="flex-grow-1" [formGroup]="eodFormGroup" (ngSubmit)="saveTask()">
        <div class="h-100 d-flex flex-column justify-content-between">
            <div class="main-row-wrapper">
                <div class="row g-0">
                    <!-- Task Title -->
                    <div class="col-12">
                        <div class="form-group mt-sm-3">
                            <label for="Title" class="fw-bold fs-7">Task Title <span class="text-danger">
                                    *</span></label>
                            <input type="text" class="form-control" id="Title" placeholder="Task Title"
                                formControlName="title"
                                [ngClass]="{'border-danger':validator['title'].invalid && (validator['title'].touched ||isSubmitted)}">
                        </div>
                        <div class="validation-error-h">
                            <div
                                *ngIf="validator['title'].invalid && (isSubmitted || validator['title'].touched||validator['title'].dirty)">
                                <span class="text-danger fw-bold fs-8" *ngIf="validator['title'].errors?.['required']">
                                    This field is required</span>
                            </div>
                        </div>

                    </div>
                </div>
                <div class="row">
                    <!-- Select State Type -->
                    <div class="col-6">
                        <div class="form-group mt-3">
                            <label for="stateType" class="fw-bold fs-7">Select State Type <span class="text-danger">
                                    *</span></label>
                            <ng-select formControlName="stateType"
                                [ngClass]="{'border-danger':validator['stateType'].invalid && (validator['stateType'].touched||isSubmitted)}">
                                <ng-option value="" disabled>Select state type</ng-option>
                                <ng-option *ngFor="let item of data.data.docs[1].data">{{item.state
                                    }}</ng-option>

                            </ng-select>
                            <div class="validation-error-h">
                                <div
                                    *ngIf="validator['stateType'].invalid && (isSubmitted || validator['stateType'].touched||validator['stateType'].dirty)">
                                    <span class="text-danger fw-bold fs-8"
                                        *ngIf="validator['stateType'].errors?.['required']"> This field is
                                        required</span>
                                </div>
                            </div>

                        </div>
                    </div>
                    <!-- Select Activity  Type -->
                    <div class="col-6">
                        <div class="form-group mt-3">
                            <label for="Activity" class="fw-bold fs-7 ">Select Activity Type <span class="text-danger">
                                    *</span></label>
                            <ng-select placeholder="Select Activity Type" formControlName="activityType" id="Activity"
                                [ngClass]="{'border-danger':validator['activityType'].invalid && (isSubmitted || validator['activityType'].touched )}">
                                <ng-option value="" disabled>Select Activity Type</ng-option>
                                <ng-option *ngFor="let item of data.data.docs[0].data">{{item.activity
                                    }}</ng-option>
                            </ng-select>
                        </div>
                        <div class="validation-error-h">
                            <div
                                *ngIf="validator['activityType'].invalid && (isSubmitted || validator['activityType'].touched||validator['activityType'].dirty)">
                                <span class="text-danger fw-bold fs-8"
                                    *ngIf="validator['activityType'].errors?.['required']"> This field is
                                    required</span>
                            </div>
                        </div>

                    </div>

                </div>
                <div class="row">
                    <!-- Description  -->
                    <div class="col-12 ">
                        <div class="mt-3">
                            <label for="description" class="fw-bold fs-7">Description <span class="text-danger">
                                    *</span></label>
                            <!-- <editor [apiKey]="_commonService.apiKey" formControlName="description" id="description" class="editor-border" 
                             [ngClass]="{'border-danger':validator['description'].invalid && isSubmitted}">
                            </editor > -->
                            <ckeditor name="description" formControlName="description" [config]="ckEditorConfig">
                            </ckeditor>
                        </div>
                        <div class="validation-error-h">
                            <div
                                *ngIf="eodFormGroup.get('description').invalid && (isSubmitted || eodFormGroup.get('description').touched)">
                                <span class="text-danger fw-bold fs-8"
                                    *ngIf="eodFormGroup.get('description').errors?.['required']"> This field is
                                    required</span>
                            </div>
                        </div>

                    </div>
                </div>
                <div class="row">
                    <!-- Blocker  -->
                    <div class="col-12 ">
                        <div class="mt-3">
                            <label for="blocker" class="fw-bold fs-7">Blocker</label>
                            <!-- <editor [apiKey]="_commonService.apiKey" formControlName="blocker" id="blocker" class="editor-border"> </editor> -->
                            <ckeditor name="ckeditor_text" formControlName="ckeditor_text" [config]="ckEditorConfig">
                            </ckeditor>
                        </div>
                    </div>
                </div>
                <div class="row">
                    <!-- Effort  -->
                    <label for="s" class="fw-bold mt-3">Effort(hours)</label>
                    <div class="col-8">
                        <div class="row">
                            <!-- Original Estimation  -->
                            <div class="col-6">
                                <div class="form-group">
                                    <label for="originalTime" class="fw-bold text-nowrap fs-7">Original Estimation <span
                                            class="text-danger">
                                            *</span></label>
                                    <input type="text" class="form-control" id="originalTime" placeholder="Task Title"
                                        formControlName="originalTime"
                                        [ngClass]="{'border-danger':validator['originalTime'].invalid && (validator['originalTime'].touched ||isSubmitted)}">
                                </div>
                                <div class="validation-error-h">
                                    <div
                                        *ngIf="validator['originalTime'].invalid && (isSubmitted || validator['originalTime'].touched||validator['originalTime'].dirty)">
                                        <span class="text-danger fw-bold fs-8"
                                            *ngIf="validator['originalTime'].errors?.['required']"> This field is
                                            required</span>
                                    </div>
                                    <span class="text-danger fw-bold fs-8"
                                        *ngIf="validator['originalTime'].errors?.['pattern']">
                                        Only numbers required.</span>
                                </div>

                            </div>
                            <!-- Remaining  -->
                            <div class="col-6">
                                <div class="form-group">
                                    <label for="remainingTime" class="fw-bold fs-7">Remaining <span class="text-danger">
                                            *</span></label>
                                    <input type="text" class="form-control" id="remainingTime" placeholder="Task Title"
                                        formControlName="remainingTime"
                                        [ngClass]="{'border-danger':validator['remainingTime'].invalid && (validator['remainingTime'].touched ||isSubmitted)}">
                                </div>
                                <div class="validation-error-h">
                                    <div
                                        *ngIf="validator['remainingTime'].invalid && (isSubmitted || validator['remainingTime'].touched||validator['remainingTime'].dirty)">
                                        <span class="text-danger fw-bold fs-8"
                                            *ngIf="validator['remainingTime'].errors?.['required']"> This field is
                                            required</span>
                                    </div>
                                    <span class="text-danger fw-bold fs-8"
                                        *ngIf="validator['remainingTime'].errors?.['pattern']">
                                        Only numbers required.</span>
                                </div>

                            </div>
                        </div>
                    </div>
                    <!-- Actual Time  -->
                    <div class="col-4">
                        <div class="form-group ">
                            <label for="competeTime" class="fw-bold fs-7">Actual Time <span class="text-danger">
                                    *</span></label>
                            <input type="text" class="form-control" id="competeTime" placeholder="Task Title"
                                formControlName="competeTime"
                                [ngClass]="{'border-danger':validator['competeTime'].invalid && (validator['competeTime'].touched ||isSubmitted)}">
                        </div>
                        <div class="validation-error-h">
                            <div
                                *ngIf="validator['competeTime'].invalid && (isSubmitted || validator['competeTime'].touched||validator['competeTime'].dirty)">
                                <span class="text-danger fw-bold fs-8"
                                    *ngIf="validator['competeTime'].errors?.['required']"> This field is required</span>
                            </div>
                            <span class="text-danger fw-bold fs-8" *ngIf="validator['competeTime'].errors?.['pattern']">
                                Only numbers required.</span>
                        </div>

                    </div>
                </div>
            </div>
            <!-- submit and Cancel button -->
            <div class="button my-5 my-lg-3 d-flex justify-content-between">
                <button type="button" class="btn btn-outline-info me-3"><span class="text-dark">Cancel</span></button>
                <button type="submit" class="btn btn-primary  border-0 text-nowrap text-white fw-bold ">Save</button>
            </div>
        </div>
    </form>
    <!-- form start -->
</div>
<!--  EndTask Form  wrapper-->