<!-- Start: User Message  -->
<div class="h-100 d-flex flex-column overflow-hidden">
    <!-- Start: Header Section  -->
    <div id="header" class="d-flex align-items-center justify-content-between px-5">
        <div class="d-flex align-items-center">
            <figure class="m-0">
                <img [src]="convertPhoto(getReceiverData?.photo)" class="rounded-circle profile-img" alt="profile">
            </figure>
            <div class="ms-3">
                <span class="fw-semibold"> {{getReceiverData?.full_name}} </span>
            </div>
        </div>
        <div class="fs-4" role="button" (click)="onLogOut()">
            <i class='bx bx-exit'></i>
        </div>
    </div>
    <!-- End: Header Section  -->

    <!-- Start: Chat Screen  -->
    <div class="flex-grow-1 overflow-auto px-5" style="background-color: #f6fdff;" #scroll>
        <!-- Chat  -->
        <div class="d-flex py-2" *ngFor="let data of getChat"
            [ngClass]="data.sender === senderId ? 'justify-content-end' : 'justify-content-start'">
            <div class="chat">
                <p class="m-0 fs-7" [ngClass]="data.sender === senderId ? 'text-end' : 'text-start'">
                    <span class="text-info"> {{data.sender === senderId ? 'You' : getReceiverData?.full_name}} </span>
                </p>
                <p class="d-inline-block rounded-3 py-1 px-2 border mb-1"
                    [ngClass]="data.sender === senderId ? 'bg-secondary' : 'bg-white'">
                    {{data.content.text}}
                </p>
                <p class="fs-8 text-info me-1"
                    [ngClass]="data.sender === senderId ? 'text-end' : 'text-start'">
                    {{data.convertedTime}}
                    <span [ngClass]="{'text-read' : data.is_read}">âœ”</span>
                </p>
            </div>
        </div>
    </div>
    <!-- End: Chat Screen  -->

    <!-- Start: Message Typer -->
    <div id="typer" class="bg-theme d-flex align-items-center p-3">
        <form class="w-100 pe-3" (ngSubmit)="onSubmit()" [formGroup]="chatGroup">
            <input type="text" class="form-control" name="message" id="message" formControlName="message" autocomplete="off">
        </form>
        <button class="fs-4 border-0" type="submit">
            <i class='bx bxs-send'></i>
        </button>
    </div>
    <!-- End: Message Typer -->
</div>
<!-- End: User Message  -->